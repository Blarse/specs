Name: flatcam
Version: 8.994
Release: alt2.20220203 
Summary: 2D Computer-Aided PCB Manufacturing
Group: Engineering
License: MIT
Url: https://bitbucket.org/jpcgt/flatcam.git
BuildArch: noarch

Packager: Anton Midyukov <antohami@altlinux.org>

Source: %name-%version.tar
Patch: flatcam-alt.patch

Buildrequires(pre): rpm-build-python3
#Buildrequires: python3-module-setuptools
Buildrequires: desktop-file-utils
BuildRequires: libappstream-glib

#Requires: python3-module-svg-path
#Requires: python3-module-matplotlib-qt4

#add_python3_req_skip ToolDblSided ToolTransform ToolMeasurement

%add_python3_path %_datadir/%name

%description
FlatCAM is a program for preparing CNC jobs for making PCBs on
a CNC router. Among other things, it can take a Gerber file
generated by your favorite PCB CAD program, and create G-Code
for Isolation routing.

%prep
%setup
%autopatch -p1

#build
#python3_build
#make_build

%install
#python3_install
%makeinstall_std

%files
%doc LICENSE README.md
%_datadir/%name/
%_bindir/%name
%_desktopdir/%name.desktop
#_iconsdir/hicolor/*/apps/%name.*
#python3_sitelibdir/*
#exclude %python3_sitelibdir/descartes

%changelog
* Fri Feb 04 2022 Anton Midyukov <antohami@altlinux.org> 8.994-alt2.20220203
- new snapshot
- fix build with python 3.10

* Fri Jul 30 2021 Anton Midyukov <antohami@altlinux.org> 8.994-alt1.20210406
- new snapshot
- build with pyQt5 (Closes: 40601)

* Tue Jul 27 2021 Anton Midyukov <antohami@altlinux.org> 8.5-alt5.20190601
- Add patch from Fedora

* Sat Jun 01 2019 Vitaly Lipatov <lav@altlinux.ru> 8.5-alt4.20190601
- NMU: update to 46454c293a9b390c931b52eb6217ca47e13b0231
- build with python3

* Sun Sep 03 2017 Anton Midyukov <antohami@altlinux.org> 8.5-alt3.20170702
- Fix conflict with python-module-descartes.

* Sat Jul 29 2017 Anton Midyukov <antohami@altlinux.org> 8.5-alt2.20170702
- Added missing requires: python-module-matplotlib-qt4.

* Wed Jul 26 2017 Anton Midyukov <antohami@altlinux.org> 8.5-alt1.20170702
- Initial build for ALT Sisyphus.
